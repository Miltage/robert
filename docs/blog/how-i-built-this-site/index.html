<!doctype html><html lang="en" class="min-h-full antialiased"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><base href="/"><title>How I built this site | Robert Shenton</title><meta name="description" content=""><meta name="robots" content="index,follow"><link rel="stylesheet" href="/css/main.min.css"><script src="/js/main.min.js" defer="defer"></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-34714917-1"></script><script>window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());

          gtag('config', 'UA-34714917-1');</script><script src="https://unpkg.com/@popperjs/core@2"></script><script src="https://unpkg.com/tippy.js@6"></script><link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/styles/default.min.css"><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script><script>hljs.registerLanguage("gdscript",function(){"use strict";var e=e||{};function r(e){return{aliases:["godot","gdscript"],keywords:{keyword:"and in not or self void as assert breakpoint class class_name extends is func setget signal tool yield const enum export onready static var break continue if elif else for pass return match while remote sync master puppet remotesync mastersync puppetsync print",built_in:"Color8 ColorN abs acos asin atan atan2 bytes2var cartesian2polar ceil char clamp convert cos cosh db2linear decimals dectime deg2rad dict2inst ease exp floor fmod fposmod funcref get_stack hash inst2dict instance_from_id inverse_lerp is_equal_approx is_inf is_instance_valid is_nan is_zero_approx len lerp lerp_angle linear2db load log max min move_toward nearest_po2 ord parse_json polar2cartesian posmod pow preload print_stack push_error push_warning rad2deg rand_range rand_seed randf randi randomize range_lerp round seed sign sin sinh smoothstep sqrt step_decimals stepify str str2var tan tanh to_json type_exists typeof validate_json var2bytes var2str weakref wrapf wrapi bool int float String NodePath Vector2 Rect2 Transform2D Vector3 Rect3 Plane Quat Basis Transform Color RID Object NodePath Dictionary Array PoolByteArray PoolIntArray PoolRealArray PoolStringArray PoolVector2Array PoolVector3Array PoolColorArray",literal:"true false null"},contains:[e.NUMBER_MODE,e.HASH_COMMENT_MODE,{className:"comment",begin:/"""/,end:/"""/},e.QUOTE_STRING_MODE,{variants:[{className:"function",beginKeywords:"func"},{className:"class",beginKeywords:"class"}],end:/:/,contains:[e.UNDERSCORE_TITLE_MODE]}]}}return e.exports=function(e){e.registerLanguage("gdscript",r)},e.exports.definer=r,e.exports.definer||e.exports}());</script><script>window.onload = function() {
            tippy.setDefaultProps({ delay: 0, animation: 'scale', inertia: true, offset: [0, 20] });
            tippy('[data-tippy-content]');
        }</script><script>hljs.highlightAll();</script><meta itemprop="name" content="How I built this site"><meta itemprop="description" content=""><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="How I built this site"><meta name="twitter:description" content=""><meta name="twitter:site" content="@miltage"><meta name="twitter:creator" content="@miltage"><meta name="twitter:image:src" content="https://robertshenton.co.za/images/blog/code2.jpeg"><meta name="og:title" content="How I built this site"><meta name="og:description" content=""><meta name="og:image" content="https://robertshenton.co.za/images/blog/code2.jpeg"><meta name="og:url" content="https://robertshenton.co.za/blog/how-i-built-this-site/"><meta name="og:site_name" content="Robert Shenton"><meta name="og:locale" content="en_GB"><meta name="og:type" content="website"><link rel="icon" type="image/png" href="/images/favicon.png"><link rel="canonical" href="https://robertshenton.co.za/blog/how-i-built-this-site/"></head><body class="text-purple-900 leading-normal text-lg"><a class="visually-hidden" href="#main">Skip to content</a><div id="wrapper" class="wrapper pb-4 md:pb-0 flex flex-col relative min-h-screen"><main id="main" class="main inner flex flex-1 flex-col md:flex-row py-10 lg:py-20 focus:outline-none" tabindex="-1"><section id="sidebar" class="column m-0 p-0 md:ml-6 md:pt-20 text-center"><div class="content"><div class="avatar w-40 h-40"></div><h2>Robert Shenton</h2><p>Programmer, writer, game developer</p><div class="m-4"><img class="w-5 h-5 inline" src="images/icons/pin.svg"> Cape Town</div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/twitter.svg"> <a href="https://twitter.com/miltage">@miltage</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/mastodon.svg"> <a rel="me" href="https://mastodon.gamedev.place/@miltage">Mastodon</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/github.svg"> <a href="https://github.com/miltage">Github</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/twitch.svg"> <a href="https://twitch.tv/miltage">Twitch</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/newgrounds.svg"> <a href="https://miltage.newgrounds.com/">Newgrounds</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/patreon.svg"> <a href="https://www.patreon.com/miltage">Patreon</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/ko-fi.svg"> <a href="https://ko-fi.com/miltage">Ko-fi</a></div><div class="m-1"><img class="w-5 h-5 inline" src="images/icons/discord.svg"> <a href="https://discord.gg/2TugD2rMM4">Discord</a></div><div class="my-6"><img class="w-4 h-4 inline mr-1" src="images/icons/back.svg"> <a href="/">Back to home</a></div></div></section><section class="column divider flex-0 min-h-full m-12"></section><section id="container-centre" class="column centre flex-1"><div class="post-header mb-12 md:mb-20"><h1 class="page-title text-3xl md:text-center md:text-5xl lg:text-6xl">How I built this site</h1><div class="text-sm md:text-base text-gray-600 flex flex-col text-center lg:flex-row lg:text-left justify-center"><time datetime="Sun Jan 26 2020 02:00:00 GMT+0200 (South Africa Standard Time)">26th January, 2020</time><p class="px-2">—</p><p class="category">Posted in <a href="/category/site">Site</a>, <a href="/category/programming">Programming</a></p></div><figure class="mt-10 md:mt-20"><img data-lazy="/images/blog/code2.jpeg" alt="(not my actual code)"><figcaption class="text-center text-sm italic text-gray-600 mt-4">(not my actual code)</figcaption></figure></div><div class="content post md:px-16"><p>&quot;Ask me what 9 x F is... It's Fleventy Five&quot;<br>~ Erlich Bachmann</p><p>So I kinda promised in my <a href="/blog/hello-2020">first blog post</a> that I would write up a little piece about how I put this site together. So this is that piece. Promise fulfilled!</p><p>The time had come for me to revamp my site and I needed something that was simple for me to update without the clunky overhead of a CMS. After all, I am a programmer and probably more comfortable with a command line than some over-engineered GUI anyway. I decided a static site generator hosted on <a href="https://pages.github.com/">GitHub Pages</a> was the way to go.</p><p>I had used <a href="https://www.11ty.dev/">Eleventy</a> a few months earlier when I had worked on a friend's site and had had some success with it, so picked this as my weapon on choice.</p><p><a href="https://www.staticgen.com/">Static site generators</a> are quite popular and have been around for a little while now, so a lot of you reading this might be well acquainted with them. This post is meant for the frontend developer who isn't and is mostly an attempt to convince them why they should be, as well as documenting some of the things I learnt in putting this humble little site together.</p><p><em>Okay, here we go!</em></p><h2>Setting Up</h2><p>I was about to create an empty project when I noticed in the Eleventy docs a page called <a href="https://www.11ty.dev/docs/starter/">Starter Projects</a>. There I found a handy list of ready-to-go Eleventy projects with pre-made templates. I perused the list and found one I liked - <a href="https://skeleventy.netlify.com/">Skeleventy</a>. Simple layout, sleek typography and an attractive colour scheme - it's exactly what I needed. In fact, you will still see a lot of similarities between my site and the demo page - Skeleventy's visual aesthetic was already largely in the direction I was hoping to go, saving me hours of painstaking design work!</p><p>Still, a fair bit of the template had to be adjusted to fit my liking, but that starter project which gave me a massive leg-up and I was super pleased to have found it. I cloned the project and got to work.</p><h2>Customizing</h2><p>The first thing I did was remove all the unnecessary junk I didn't need like the header and footer. The second thing I did was add the sidebar that you see on every page. This is where the power of a templating engine really starts to shine. I only had to write the code once and then include it on every page like so:</p><pre><code>{% include &quot;components/sidebar.njk&quot; %}
</code></pre><p>When the static site files are generated, the sidebar component is injected into each page by the templating engine. That means any future changes to the sidebar would only need to be made in one place. Handy!</p><p>The only other major change I made was to the colour scheme, swapping out Skeleventy's pink for a nice shade of teal. Like I said - hours saved!</p><h2>Adding Content</h2><p>I'll be honest, when my site was just static HTML files, adding content wasn't all that fun. It mostly involved hunting down the relevant lines of HTML, copying them and changing the appropriate values. That has all changed with Eleventy and the templating engine, however. Adding content is as simple as adding a new file, which is a lot easier to manage. Every blog post on this site is just a <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a> file in a folder.</p><p>My folder structure might look something like this:</p><pre><code>blog
 ├ first-post.md
 ├ second-post.md
 └ third-post.md
</code></pre><p>And at the top of each file I define a little meta info about the post like this:</p><pre><code>---
title: &quot;How I built this site&quot;
date: 2020-01-26
featured_image: /images/blog/code2.jpeg
image_caption: (not my actual code)
tags:
  - blog
  - site
  - programming
---
</code></pre><p>The rest of the file contains the blog post's contents written in <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>. Take a look at <a href="https://raw.githubusercontent.com/Miltage/robert/master/site/blog/how-i-built-this-site.md">this post's file</a> to see what I mean.</p><p>The templating engine does the rest. An individual blog post is generated, injecting the blog meta info and contents into the blog layout template. The URL for the post is simply the file name, so something like <code>blog/first-post</code>. But we still need some way to link visitors to our posts. That's where collections come in.</p><p>This post is marked with the <code>blog</code> tag, so the templating engine adds it to a <code>blog</code> collection. Then on the homepage I simply loop through that collection and create a link to each post.</p><pre><code>&lt;ol&gt;
  {% for post in collections.blog %}
    &lt;li class=&quot;mb-1&quot;&gt;&lt;a href=&quot;{{ post.url }}&quot;&gt;{{ post.data.date + ' - ' + post.data.title }}&lt;/a&gt;&lt;/li&gt;
  {% endfor %}
&lt;/ol&gt;
</code></pre><p>It's really as simple as that.</p><h2>Hosting</h2><p>Over the years I had seen that GitHub had started <a href="https://pages.github.com/">hosting static content</a> for free. This was great, because it meant I could serve my site to visitors right from my repo! Any code changes I push are automatically deployed! Very convenient.</p><p>Just go over to the settings of your repo and look for the GitHub Pages section. There you can choose which branch to build from.</p><p><img src="/images/blog/github-pages1.png" alt="Choose a branch"></p><p>Because my source files are in the root, and I don't want to be serving that, I opted to generate my static HTML in a <code>docs</code> folder on the master branch and serve that. In my <code>package.json</code> file I simply added the <code>docs</code> folder as an output option to my <code>production</code> build script, like so:</p><pre><code>eleventy --config=eleventy.config.js --output=docs
</code></pre><p>Finally, I wrote a little bash script to run the 4 commands it takes to actually push a deploy up to the cloud.</p><pre><code class="language-bash">npm run production
git add .
git commit -m &quot;Deploy&quot;
git push
</code></pre><p>Now whenever I'm ready to push an update I just run that script and GitHub does the rest. But there was one final step - linking my domain. And this was probably the hardest part to get right. I entered my custom domain name in the setting section (you will find that GitHub <a href="https://github.com/Miltage/robert/commit/e88480f1d22aac7968c3ba8c8f68f98ff169adc8">automatically commits a CNAME file</a> to your repo when you do), but soon found that this wasn't enough. Poring through the GitHub docs, I realised that I needed to <a href="https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site">configure my domain</a> properly as well.</p><p>I added the A records as instructed, but my domain still wouldn't work. I <a href="https://twitter.com/miltage/status/1193940216345714688">took to Twitter</a> but found no help there. Eventually I found a blog post somewhere where someone stated that they had had to add a CNAME record of their GitHub subdomain as well. I tried that, and <em>it worked!</em></p><p>Here's what my domain records looked like in the end. (Notice the period after my GitHub subdomain, apparently that's important.)</p><p><img src="/images/blog/domain-records.png" alt="Domain Configuration"></p><p>Finally, everything was set up and working correctly!</p><p><img src="/images/blog/github-pages2.png" alt="Success"></p><h2>Conclusion</h2><p>That's about the long and the short of it. I am really only scratching the surface of what templating engines can do though, I advise you to check the <a href="https://www.11ty.dev/docs/">Eleventy docs</a> for more information about all the things you could do with it.</p><ul class="tags flex pt-4 flex-col text-center md:flex-row md:text-left"><li class="mr-2 my-2"><a class="inline-block border border-teal-300 px-4 py-2 text-teal-500 text-xs font-semibold rounded hover:text-white hover:bg-teal-500 hover:border-teal-500 w-4/5 md:w-auto" href="/category/site">Site</a></li><li class="mr-2 my-2"><a class="inline-block border border-teal-300 px-4 py-2 text-teal-500 text-xs font-semibold rounded hover:text-white hover:bg-teal-500 hover:border-teal-500 w-4/5 md:w-auto" href="/category/programming">Programming</a></li></ul></div></section></main></div></body></html>